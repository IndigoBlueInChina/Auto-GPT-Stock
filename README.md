# AI 智能分析助手

## 使用场景

这是一个基于大语言模型的智能分析助手，主要功能包括：

1. **股票数据分析**
   - 自动解析 akshare 包的功能定义
   - 根据用户问题智能选择合适的分析方法
   - 生成并执行分析代码
   - 提供易懂的分析结果

2. **日期查询和计算**
   - 支持自然语言的日期查询
   - 处理相对日期计算（今天、明天等）
   - 提供标准格式的日期输出


## 快速开始

### 1. 环境配置

**已验证Python 版本 3.11**
建议使用conda 或者 venv 创建虚拟环境来运行，避免依赖包冲突。

首先创建并配置 `.env` 文件：

```bash
# 创建 .env 文件
cp demo.env .env

# 编辑 .env 文件，设置你的 OpenAI API Key
OPENAI_API_KEY=sk-your-api-key-here
```

### 2. 安装依赖

# 安装依赖包
pip install poetry
poetry install
```

### 3. 准备数据文件

确保 `data` 目录下有必要的数据文件：
- `stock.md.txt`：akshare 包的功能定义文件
- 其他需要分析的 Excel 文件或文档

### 4. 运行程序

```bash
python main.py
```

## 使用示例

启动程序后，你可以进行如下对话：

```
🤖：有什么可以帮您？
👨：查询中国银行的最新行情

👨：今天涨停的股票有哪些？看看股票名称和代码
🤖：[分析结果]

👨：今天是几号？
🤖：今天是 2024-03-20

```

## 功能说明

1. **股票分析功能**
   - 自动从 stock.md.txt 提取 akshare 接口定义
   - 支持行情查询、指数分析等多种功能
   - 智能匹配用户问题和分析方法

2. **日期工具**
   - 支持查询：今天、昨天、明天等
   - 支持日期计算和格式化输出
   - 处理自然语言日期查询

3. **Excel 分析**
   - 支持数据统计和分析
   - 生成报表和可视化
   - 支持多种数据处理方式

## 注意事项

1. 确保 OpenAI API Key 配置正确
2. 保持网络连接稳定
3. 数据文件需放在正确的目录下
4. 查询时使用清晰的自然语言描述

## 依赖说明

主要依赖包：
- langchain
- openai
- akshare
- pandas
- openpyxl
- python-dotenv



